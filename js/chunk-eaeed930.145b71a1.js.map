{"version":3,"sources":["webpack:///./src/views/Admin.vue?5c18","webpack:///src/views/Admin.vue","webpack:///./src/views/Admin.vue?5b90","webpack:///./src/views/Admin.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","cgacces","_e","_v","attrs","model","value","callback","$$v","accesLogin","expression","accesPassword","on","$event","stopPropagation","preventDefault","login","_m","cgdisplay","cgusers","length","_l","cguser","key","id","_s","doc","firstname","lastName","socityName","staticRenderFns","db","replicate","to","data","Object","methods","recupInfoUser","cgvm","allDocs","include_docs","attachments","result","rows","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAAGN,EAAIO,QAAm2BP,EAAIQ,KAA91BJ,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,qFAAqFL,EAAG,OAAO,CAACM,MAAM,CAAC,OAAS,GAAG,QAAU,UAAU,CAACN,EAAG,QAAQ,CAACM,MAAM,CAAC,IAAM,eAAe,CAACV,EAAIS,GAAG,WAAWL,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,OAAO,KAAO,aAAa,YAAc,IAAIC,MAAM,CAACC,MAAOZ,EAAc,WAAEa,SAAS,SAAUC,GAAMd,EAAIe,WAAWD,GAAKE,WAAW,gBAAgBZ,EAAG,MAAMA,EAAG,MAAMA,EAAG,QAAQ,CAACM,MAAM,CAAC,IAAM,kBAAkB,CAACV,EAAIS,GAAG,cAAcL,EAAG,eAAe,CAACM,MAAM,CAAC,KAAO,WAAW,KAAO,gBAAgB,YAAc,IAAIC,MAAM,CAACC,MAAOZ,EAAiB,cAAEa,SAAS,SAAUC,GAAMd,EAAIiB,cAAcH,GAAKE,WAAW,oBAAoB,GAAGZ,EAAG,SAAS,CAACM,MAAM,CAAC,KAAO,UAAUQ,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBrB,EAAIsB,WAAW,CAACtB,EAAIS,GAAG,6BAAuCT,EAAW,QAAEI,EAAG,MAAM,CAACJ,EAAIuB,GAAG,GAAGnB,EAAG,MAAOJ,EAAIwB,WAAaxB,EAAIyB,QAAQC,OAAQtB,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIS,GAAG,0DAA0DL,EAAG,MAAMJ,EAAI2B,GAAI3B,EAAW,SAAE,SAAS4B,GAAQ,OAAOxB,EAAG,MAAM,CAACyB,IAAID,EAAOE,IAAI,CAAC1B,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIS,GAAG,IAAIT,EAAI+B,GAAG,gBAAkBH,EAAOI,IAAIC,UAAY,iBAAmBL,EAAOI,IAAIE,SAAW,kBAAoBN,EAAOI,IAAIG,YAAY,aAAY,GAAGnC,EAAIQ,KAAOR,EAAIyB,QAAQC,OAAwE1B,EAAIQ,KAApEJ,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,yCAAkDT,EAAIQ,QAC7gD4B,EAAkB,CAAC,WAAa,IAAIpC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACJ,EAAIS,GAAG,wBAAwBL,EAAG,IAAI,CAACM,MAAM,CAAC,KAAO,2DAA2D,OAAS,WAAW,CAACV,EAAIS,GAAG,a,YCgC1P4B,EAAK,IAAI,EAAb,cACAA,EAAGC,UAAUC,GAAG,+BAChB,OACEC,KADF,WAEI,MAAO,CACLf,QAASgB,OACTjB,WAAW,EACXT,WAAY,GACZE,cAAe,GACfV,SAAS,IAGbmC,QAAS,CACPpB,MADJ,WAG8B,UAApBrB,KAAKc,YAAiD,aAAvBd,KAAKgB,gBACtChB,KAAKM,SAAU,EACfN,KAAK0C,kBAGTA,cARJ,WAUM,IAAIC,EAAO3C,KACXoC,EAAGQ,QAAQ,CACTC,cAAc,EACdC,aAAa,IACrB,kBACQH,EAAKnB,QAAUuB,EAAOC,KACtBL,EAAKpB,WAAY,QC7DsT,I,iCCO3U0B,EAAY,eACd,EACAnD,EACAqC,GACA,EACA,KACA,KACA,MAMoB,oBAAX,KAAuB,IAAOc,GAE1B,aAAAA,E","file":"js/chunk-eaeed930.145b71a1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin\"},[(!_vm.cgacces)?_c('div',[_c('h2',[_vm._v(\" Connectez -vous pour voir les utilisateurs qui ont déjà fait ce questionnaire \")]),_c('form',{attrs:{\"submit\":\"\",\"prevent\":\"false\"}},[_c('label',{attrs:{\"for\":\"accesLogin\"}},[_vm._v(\"Login\")]),_c('b-form-input',{attrs:{\"type\":\"text\",\"name\":\"adminLogin\",\"placeholder\":\"\"},model:{value:(_vm.accesLogin),callback:function ($$v) {_vm.accesLogin=$$v},expression:\"accesLogin\"}}),_c('br'),_c('br'),_c('label',{attrs:{\"for\":\"accesPassword\"}},[_vm._v(\"Password\")]),_c('b-form-input',{attrs:{\"type\":\"password\",\"name\":\"adminPassWord\",\"placeholder\":\"\"},model:{value:(_vm.accesPassword),callback:function ($$v) {_vm.accesPassword=$$v},expression:\"accesPassword\"}})],1),_c('button',{attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.login()}}},[_vm._v(\"Valider la connection\")])]):_vm._e(),(_vm.cgacces)?_c('div',[_vm._m(0),_c('br'),(_vm.cgdisplay && _vm.cgusers.length)?_c('div',[_c('h2',[_vm._v(\"Liste des personnes qui ont fait le questionnaire : \")]),_c('br'),_vm._l((_vm.cgusers),function(cguser){return _c('div',{key:cguser.id},[_c('p',{staticClass:\"align\"},[_vm._v(\" \"+_vm._s(' FirstName : ' + cguser.doc.firstname + ' , LastName : ' + cguser.doc.lastName + ', socityName : ' + cguser.doc.socityName)+\" \")])])})],2):_vm._e(),(!_vm.cgusers.length)?_c('div',[_c('p',[_vm._v(\"aucun utilisateur pour l'intant\")])]):_vm._e()]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" Lien vers la BDD : \"),_c('a',{attrs:{\"href\":\"http://localhost:5984/_utils/#database/cgusers/_all_docs\",\"target\":\"_blank\"}},[_vm._v(\"ICI\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"admin\">\r\n    <div v-if=\"!cgacces\">\r\n    <h2> Connectez -vous pour voir les utilisateurs qui ont déjà fait ce questionnaire </h2>\r\n    <form submit prevent='false'>\r\n        <label for='accesLogin'>Login</label>\r\n        <b-form-input type='text' name='adminLogin' v-model='accesLogin' placeholder='' />\r\n        <br>\r\n        <br>\r\n        <label for='accesPassword'>Password</label>\r\n        <b-form-input type='password' name='adminPassWord' v-model='accesPassword' placeholder=''/>\r\n        </form>\r\n        <button type='submit' v-on:click.stop.prevent='login()'>Valider la connection</button>\r\n    </div>\r\n    <div v-if=\"cgacces\">\r\n    <p> Lien vers la BDD : <a href=\"http://localhost:5984/_utils/#database/cgusers/_all_docs\" target=\"_blank\">ICI</a> </p>\r\n    <br>\r\n    <div v-if =\"cgdisplay && cgusers.length\">\r\n      <h2>Liste des personnes qui ont fait le questionnaire : </h2>\r\n      <br>\r\n      <div v-for=\"cguser in cgusers\" v-bind:key=\"cguser.id\">\r\n        <p class = \"align\"> {{' FirstName : ' + cguser.doc.firstname + ' , LastName : '  + cguser.doc.lastName + ', socityName : ' + cguser.doc.socityName }} </p>\r\n      </div>\r\n      </div>\r\n    <div v-if=\"!cgusers.length\">\r\n      <p>aucun utilisateur pour l'intant</p>\r\n    </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import de pouch DB\r\nimport PouchDB from 'pouchdb'\r\nvar db = new PouchDB('users') // créer la bdd\r\ndb.replicate.to('http://localhost:5984/users') // lien vers la BDD\r\nexport default {\r\n  data () {\r\n    return {\r\n      cgusers: Object,\r\n      cgdisplay: false,\r\n      accesLogin: '',\r\n      accesPassword: '',\r\n      cgacces: false\r\n    }\r\n  },\r\n  methods: {\r\n    login () {\r\n      // verifi que l'user peut se connecter\r\n      if (this.accesLogin === 'login' && this.accesPassword === 'password') {\r\n        this.cgacces = true\r\n        this.recupInfoUser()\r\n      }\r\n    },\r\n    recupInfoUser () {\r\n      // recupère les infos dans la bdd\r\n      var cgvm = this\r\n      db.allDocs({\r\n        include_docs: true,\r\n        attachments: true\r\n      }).then(function (result) {\r\n        cgvm.cgusers = result.rows\r\n        cgvm.cgdisplay = true\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<css>\r\n.align{\r\n text-align: left;\r\n margin-left : 15%\r\n}\r\n</css>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Admin.vue?vue&type=template&id=d22ff49a&\"\nimport script from \"./Admin.vue?vue&type=script&lang=js&\"\nexport * from \"./Admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./Admin.vue?vue&type=custom&index=0&blockType=css\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports"],"sourceRoot":""}